(this["webpackJsonpleaflet-react-demo"]=this["webpackJsonpleaflet-react-demo"]||[]).push([[0],{21:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/icono_avion_izq.bfa8bb3b.svg"},51:function(e,t,a){e.exports=a.p+"static/media/icono_avion_der.66aba7c0.svg"},56:function(e,t,a){e.exports=a(96)},61:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(24),r=a.n(c);a(61),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(28),l=a(13),s=a(14),m=a(16),u=a(15),d=a(1),p=(a(21),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.vuelos.map((function(e,t){return o.a.createElement("div",{id:"carta-vuelo",class:"card text-dark bg-light mb-3"},o.a.createElement("div",{class:"card-header"},e.airline),o.a.createElement("div",{class:"card-body"},o.a.createElement("h5",{class:"card-title"},e.code),o.a.createElement("span",null,"Avi\xf3n: ",e.plane),o.a.createElement("br",null),o.a.createElement("span",null,"Origen: ",e.origin[0]," | ",e.origin[1]),o.a.createElement("br",null),o.a.createElement("span",null,"Destino: ",e.destination[0]," | ",e.destination[1]),o.a.createElement("br",null),o.a.createElement("span",null,"Asientos: ",e.seats),o.a.createElement("br",null),o.a.createElement("div",{class:"dropup"},o.a.createElement("button",{type:"button",class:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown"},"Pasajeros"),o.a.createElement("div",{class:"dropdown-menu"},e.passengers.map((function(e){return o.a.createElement("a",{class:"dropdown-item"},"(",e.age,") ",e.name)}))))))}));return o.a.createElement("div",null,o.a.createElement("div",{id:"cont-boton-vuelos",class:"d-grid gap-2"},o.a.createElement("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.props.SubmitVuelos},"Cargar Vuelos")),o.a.createElement("div",{id:"cont-tarjetas-vuelos"},e))}}]),a}(o.a.Component)),h=a(98),b=a(100),v=a(99),E=a(97),g=a(101),f=a(50),y=a.n(f),O=a(51),j=a.n(O),w=(new d.Icon({iconUrl:y.a,iconSize:[40,40]}),new d.Icon({iconUrl:j.a,iconSize:[40,40]}));function S(e){var t=e.vuelos,a=e.posiciones,n={color:"red"};return o.a.createElement("div",null,o.a.createElement(h.a,{center:[30,0],zoom:1},o.a.createElement(b.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return o.a.createElement(v.a,{pathOptions:n,positions:[[e.origin[0],e.origin[1]],[e.destination[0],e.destination[1]]]})})),a.map((function(e){return o.a.createElement(E.a,{icon:w,position:e.position},o.a.createElement(g.a,null,o.a.createElement("b",null,e.code),o.a.createElement("br",null),o.a.createElement("span",null,"Latitud:"),o.a.createElement("br",null),e.position[0],o.a.createElement("br",null),o.a.createElement("span",null,"Longitud:"),o.a.createElement("br",null),e.position[1]))}))))}var k=a(54),C=a(20),H=a(55),x=a.n(H),D=a(34).connect("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).mySubmitHandler=function(e){e.preventDefault();var t={name:n.state.name,message:n.state.message};D.emit("CHAT",t),n.state.name="",n.state.message=""},n.state={chats:[],name:"",message:""},n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.mySubmitHandler=n.mySubmitHandler.bind(Object(C.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.on("CHAT",(function(t){e.setState({chats:[].concat(Object(i.a)(e.state.chats),[t])})}))}},{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.chats.map((function(e,t){return o.a.createElement("div",{key:t,id:"cont-mensaje",class:"card text-dark bg-light mb-3"},o.a.createElement("div",{id:"cont-nombre-chat",class:"card-header"},e.name),o.a.createElement("span",null,e.message),o.a.createElement("span",{id:"fecha-chat"},x()(new Date(e.date)).format("DD-MM-YYYY")))}));return o.a.createElement("div",null,o.a.createElement("div",{id:"cont-mensajes"},e),o.a.createElement("div",{id:"cont-accion-chat"},o.a.createElement("form",{onSubmit:this.mySubmitHandler},o.a.createElement("input",{class:"form-control me-2",type:"text",name:"name",placeholder:"Nombre...",value:this.state.name,onChange:this.handleChange}),o.a.createElement("input",{class:"form-control me-2",type:"text",name:"message",placeholder:"Chat...",value:this.state.message,onChange:this.handleChange}),o.a.createElement("div",{class:"d-grid gap-2"},o.a.createElement("button",{class:"btn btn-outline-secondary",type:"submit"},"Enviar")))))}}]),a}(o.a.Component),z=a(34).connect("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).mySubmitHandler=function(e){e.preventDefault(),z.emit("FLIGHTS",""),z.on("FLIGHTS",(function(e){n.setState({vuelos:e})}))},n.state={vuelos:[],chats:[],posiciones:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;z.on("POSITION",(function(t){var a=e.state.posiciones,n=e.state.posiciones,o=0;0===a.length?n=[t]:(a.map((function(e,a){e.code===t.code&&(n[a]=t,o=1)})),0===o&&(n=[].concat(Object(i.a)(n),[t]))),e.setState({posiciones:n})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"cont-vuelos"},o.a.createElement(p,{vuelos:this.state.vuelos,SubmitVuelos:this.mySubmitHandler})),o.a.createElement("div",{id:"cont-mapa"},o.a.createElement(S,{vuelos:this.state.vuelos,posiciones:this.state.posiciones})),o.a.createElement("div",{id:"cont-chat"},o.a.createElement(I,null)))}}]),a}(o.a.Component);r.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.8ef4ceea.chunk.js.map